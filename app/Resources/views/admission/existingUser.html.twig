{% extends 'base.html.twig' %}

{% block title %}
    Vektorprogrammet - Opptak
{% endblock %}

{# Form themes user to modify the templates of the various form components #}
{% form_theme form 'form/interview_layout.html.twig' %}
{% form_theme form.applicationPractical.days 'form/components/radio_grid_layout.html.twig' %}

{% block body %}
    <div class="row">
        <div class="small-12 columns">
            {% for flashMessage in app.session.flashbag.get('admission-notice') %}
                <div class="admission-notice">
                    <div data-alert class="alert-box success radius">
                        {{ flashMessage }}
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
    <div class="row">
        <div class="small-12 medium-6 medium-offset-3 columns">

            {{ form_start(form) }}
            {{ form_errors(form) }}

            <h3>Søk vektorassistent {{ department.shortName }} {{ semester.name }}</h3>
            <h6>Søknadsskjema for {{ user }} (Ikke deg? <a href="{{ path('logout') }}">Logg ut</a>)</h6>
            <div class="row">
                <div class="small-12 columns">
                    <div>
                        {{ form_row(form.applicationPractical.yearOfStudy) }}
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="small-12 columns">
                    <label class="question-label">Hvilke dager passer IKKE for deg?</label>
                    <ul class="radio-grid">
                        {{ form_widget(form.applicationPractical.days) }}
                    </ul>
                </div>
            </div>

            <div class="row">
                <div class="small-12 medium-12 large-12 columns">
                    {{ form_row(form.applicationPractical.doublePosition) }}
                </div>
            </div>

            <div class="row">
                <div class="small-12 medium-12 large-12 columns">
                    {{ form_row(form.applicationPractical.preferredGroup) }}
                </div>
            </div>

            <div class="row">
                <div class="small-12 medium-12 large-12 columns">
                    {{ form_row(form.applicationPractical.language) }}
                </div>
            </div>

            <div class="row">
                <div class="small-12 medium-12 large-12 columns">
                    <label class="question-label">
                        Kunne du tenke deg å jobbe med organiseringen av Vektorprogrammet?<br>
                        Dette innebærer et verv i et at Vektorprogrammets team
                    </label>
                    {{ form_widget(form.applicationPractical.teamInterest) }}
                    {{ form_errors(form.applicationPractical.teamInterest) }}
                </div>
            </div>

            <div class="class">
                <div class="text-center">
                    {{ form_widget(form.save, {'attr': {'class': 'vektor-button-inverted'}}) }}
                </div>
                <br>
            </div>
            {{ form_end(form) }}
        </div>
    </div>

{% endblock %}

{% block javascripts %}

    <script>
        var $submitBtn = $('.vektor-button-inverted');
        var $applicationForm = $('form[name="application"]');
        $submitBtn.click(function () {
            if ($applicationForm[0].checkValidity()) {
                $submitBtn.attr("disabled", true);
                $submitBtn.html("Sender...");
                $applicationForm.submit();
            }
        });
        setTimeout(function () {
            $(".admission-notice").fadeOut(1000);
        }, 5000);
    </script>

{% endblock %}

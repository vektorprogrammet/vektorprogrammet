<script>
    function getColor(i) {
        var colors = ["#36A2EB", "#4BC0C0", "#9F65AD", "#FFCE56", "#FF6384", "#737373", "#D07054", "#D97DB5"];
        return colors[i % colors.length];
    }
    document.addEventListener('DOMContentLoaded', function () {

        {% if assistantHistoryData.count %}
        var acceptedGenderData = {
            datasets: [{
                data: [{{ assistantHistoryData.maleCount }}, {{ assistantHistoryData.femaleCount }}],
                backgroundColor: [getColor(0), getColor(4)]
            }],
            labels: [
                'Gutt' + ' ({{ (assistantHistoryData.maleCount/assistantHistoryData.count*100)|round }} %)',
                'Jente' + ' ({{ (assistantHistoryData.femaleCount/assistantHistoryData.count*100)|round }} %)'
            ]
        };

        renderChart(acceptedGenderData, 'Kj√∏nnsfordeling', true);
        {% endif %}

        function renderChart(data, label, legend) {
            var div = $('#admissionChart');

            // The pie chart will be painted on the canvas
            var canvas = $('<canvas id="chart"></canvas>');

            div.append(canvas);

            // Paint the chart to the canvases using Chart.js
            ctx = $('#chart');
            var chart = new Chart(ctx, {
               type: 'doughnut',
                data: data,
                options: {
                    legend: {
                        display: legend
                    },
                    circumference: Math.PI,
                    rotation: -Math.PI
            }});

        }

    })
</script>

{% extends 'base_new.html.twig' %}

{% block title %}{{ article.title }}{% endblock %}
{% block facebookImage %}{{ article.imageSmall|replace({" ": "%20"}) }}{% endblock %}
{% block facebookDescription %}{{ article.article|safe_html|replace({"<p>": "", "</p>": "", "<strong>": "", "</strong>": ""})|slice(0,255) }}...{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset_with_version('css/pages/article.css') }}">
{% endblock %}

{% block body %}

    {% for flashMessage in app.session.flashbag.get('article-notice') %}
        <div class="row">
            <div class="small-12 medium-12 large-12 columns">
                <div data-alert class="alert-box success radius">
                    {{ flashMessage }}
                    <a href="#" class="close">&times;</a>
                </div>
            </div>
        </div>
    {% endfor %}

    <div class="article">
        <div class="segment mt-4">
        <article>

            <img src="{{ asset_with_version(article.imageLarge) }}" style="width:100%;"/>

            <h1 class="article-title mb-2 mt-5">{{ article.title|safe_html }}</h1>

            <p class="article-by vektor-blue-text mb-4"><strong>Skrevet
                    av:</strong> {{ article.author.firstName }} {{ article.author.lastName }}.
                Publisert: {{ article.created|date("d.m.y â€” G:i") }}</p>

            <div class="article-body">
            {{ article.article|safe_html }}
            </div>
            {# Render the controller for the sidebar showing other articles #}
            {% render controller('AppBundle:Article:showOther', { 'excludeId': article.id }) %}

        </article>
        </div>
    </div>

{% endblock %}
